(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["uni_modules-uni-feedback-pages-opendb-feedback-edit"],{"011e":function(t,i,e){var n=e("24fb");i=n(!1),i.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.uni-forms-item[data-v-7b4c51d5]{position:relative;display:flex;margin-bottom:22px;flex-direction:row}.uni-forms-item__label[data-v-7b4c51d5]{display:flex;flex-direction:row;align-items:center;text-align:left;font-size:14px;color:#606266;height:36px;padding:0 12px 0 0;vertical-align:middle;flex-shrink:0;box-sizing:border-box}.uni-forms-item__label.no-label[data-v-7b4c51d5]{padding:0}.uni-forms-item__content[data-v-7b4c51d5]{position:relative;font-size:14px;flex:1;box-sizing:border-box;flex-direction:row}.uni-forms-item .uni-forms-item__nuve-content[data-v-7b4c51d5]{display:flex;flex-direction:column;flex:1}.uni-forms-item__error[data-v-7b4c51d5]{color:#f56c6c;font-size:12px;line-height:1;padding-top:4px;position:absolute;top:100%;left:0;transition:-webkit-transform .3s;transition:transform .3s;transition:transform .3s,-webkit-transform .3s;-webkit-transform:translateY(-100%);transform:translateY(-100%);opacity:0}.uni-forms-item__error .error-text[data-v-7b4c51d5]{color:#f56c6c;font-size:12px}.uni-forms-item__error.msg--active[data-v-7b4c51d5]{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}.uni-forms-item.is-direction-left[data-v-7b4c51d5]{flex-direction:row}.uni-forms-item.is-direction-top[data-v-7b4c51d5]{flex-direction:column}.uni-forms-item.is-direction-top .uni-forms-item__label[data-v-7b4c51d5]{padding:0 0 8px;line-height:1.5715;text-align:left;white-space:normal}.uni-forms-item .is-required[data-v-7b4c51d5]{color:#dd524d;font-weight:700}.uni-forms-item--border[data-v-7b4c51d5]{margin-bottom:0;padding:10px 0;border-top:1px #eee solid}.uni-forms-item--border .uni-forms-item__content[data-v-7b4c51d5]{flex-direction:column;justify-content:flex-start;align-items:flex-start}.uni-forms-item--border .uni-forms-item__content .uni-forms-item__error[data-v-7b4c51d5]{position:relative;top:5px;left:0;padding-top:0}.is-first-border[data-v-7b4c51d5]{border:none}',""]),t.exports=i},"087e":function(t,i,e){"use strict";e.d(i,"b",(function(){return o})),e.d(i,"c",(function(){return a})),e.d(i,"a",(function(){return n}));var n={uniForms:e("a3b0").default,uniFormsItem:e("bdf4").default,uniFilePicker:e("4405").default,uniEasyinput:e("e9a1").default,uniFab:e("cfb3").default},o=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-uni-view",{staticClass:"uni-container"},[e("uni-forms",{ref:"form",attrs:{value:t.formData,"validate-trigger":"submit","err-show-type":"toast"}},[e("uni-forms-item",{attrs:{name:"content",label:"留言内容/回复内容",required:!0}},[e("v-uni-textarea",{staticClass:"uni-textarea-border",attrs:{trim:"right"},on:{input:function(i){arguments[0]=i=t.$handleEvent(i),t.binddata("content",i.detail.value)}},model:{value:t.formData.content,callback:function(i){t.$set(t.formData,"content",i)},expression:"formData.content"}})],1),e("uni-forms-item",{attrs:{name:"imgs",label:"图片列表"}},[e("uni-file-picker",{attrs:{"file-mediatype":"image",limit:6,"return-type":"array"},model:{value:t.formData.imgs,callback:function(i){t.$set(t.formData,"imgs",i)},expression:"formData.imgs"}})],1),e("uni-forms-item",{attrs:{name:"contact",label:"联系人"}},[e("uni-easyinput",{attrs:{trim:"both"},model:{value:t.formData.contact,callback:function(i){t.$set(t.formData,"contact",i)},expression:"formData.contact"}})],1),e("uni-forms-item",{attrs:{name:"mobile",label:"联系电话"}},[e("uni-easyinput",{attrs:{trim:"both"},model:{value:t.formData.mobile,callback:function(i){t.$set(t.formData,"mobile",i)},expression:"formData.mobile"}})],1),e("v-uni-view",{staticClass:"uni-button-group"},[e("v-uni-button",{staticClass:"uni-button",attrs:{type:"primary"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.submit.apply(void 0,arguments)}}},[t._v("提交")])],1)],1),t.uniIDHasRole("webmaster")||t.uniIDHasRole("admin")?e("v-uni-view",[e("uni-fab",{ref:"fab",attrs:{horizontal:"right",vertical:"bottom","pop-menu":!1},on:{fabClick:function(i){arguments[0]=i=t.$handleEvent(i),t.fabClick.apply(void 0,arguments)}}})],1):t._e()],1)},a=[]},"0b51":function(t,i,e){"use strict";e("7a82"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n={name:"UniFab",emits:["fabClick","trigger"],props:{pattern:{type:Object,default:function(){return{}}},horizontal:{type:String,default:"left"},vertical:{type:String,default:"bottom"},direction:{type:String,default:"horizontal"},content:{type:Array,default:function(){return[]}},show:{type:Boolean,default:!1},popMenu:{type:Boolean,default:!0}},data:function(){return{fabShow:!1,isShow:!1,isAndroidNvue:!1,styles:{color:"#3c3e49",selectedColor:"#007AFF",backgroundColor:"#fff",buttonColor:"#007AFF",iconColor:"#fff"}}},computed:{contentWidth:function(t){return 55*(this.content.length+1)+15+"px"},contentWidthMin:function(){return"55px"},boxWidth:function(){return this.getPosition(3,"horizontal")},boxHeight:function(){return this.getPosition(3,"vertical")},leftBottom:function(){return this.getPosition(0,"left","bottom")},rightBottom:function(){return this.getPosition(0,"right","bottom")},leftTop:function(){return this.getPosition(0,"left","top")},rightTop:function(){return this.getPosition(0,"right","top")},flexDirectionStart:function(){return this.getPosition(1,"vertical","top")},flexDirectionEnd:function(){return this.getPosition(1,"vertical","bottom")},horizontalLeft:function(){return this.getPosition(2,"horizontal","left")},horizontalRight:function(){return this.getPosition(2,"horizontal","right")},nvueBottom:function(){uni.getSystemInfoSync().windowBottom;return 30}},watch:{pattern:{handler:function(t,i){this.styles=Object.assign({},this.styles,t)},deep:!0}},created:function(){this.isShow=this.show,0===this.top&&(this.fabShow=!0),this.styles=Object.assign({},this.styles,this.pattern)},methods:{_onClick:function(){this.$emit("fabClick"),this.popMenu&&(this.isShow=!this.isShow)},open:function(){this.isShow=!0},close:function(){this.isShow=!1},_onItemClick:function(t,i){this.$emit("trigger",{index:t,item:i})},getPosition:function(t,i,e){return 0===t?this.horizontal===i&&this.vertical===e:1===t?this.direction===i&&this.vertical===e:2===t?this.direction===i&&this.horizontal===e:this.isShow&&this.direction===i?this.contentWidth:this.contentWidthMin}}};i.default=n},"163c":function(t,i,e){"use strict";(function(t){e("7a82");var n=e("4ea4").default;Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var o=n(e("5530"));e("c975"),e("b64b"),e("d3b7");var a=e("385d"),r=t.database();function s(t){var i={};for(var e in a.validator)t.indexOf(e)>-1&&(i[e]=a.validator[e]);return i}var l={data:function(){var t={content:"",imgs:[],contact:"",mobile:""};return{formData:t,formOptions:{},rules:(0,o.default)({},s(Object.keys(t)))}},onLoad:function(t){if(t.id){var i=t.id;this.formDataId=i,this.getDetail(i)}},onReady:function(){this.$refs.form.setRules(this.rules)},methods:{fabClick:function(){uni.navigateTo({url:"/uni_modules/uni-feedback/pages/opendb-feedback/list"})},submit:function(){var t=this;uni.showLoading({mask:!0}),this.$refs.form.validate().then((function(i){t.submitForm(i)})).catch((function(){uni.hideLoading()}))},submitForm:function(t){var i=this;r.collection("opendb-feedback").doc(this.formDataId).update(t).then((function(t){uni.showToast({icon:"none",title:"修改成功"}),i.getOpenerEventChannel().emit("refreshData"),setTimeout((function(){return uni.navigateBack()}),500)})).catch((function(t){uni.showModal({content:t.message||"请求服务失败",showCancel:!1})})).finally((function(){uni.hideLoading()}))},getDetail:function(t){var i=this;uni.showLoading({mask:!0}),r.collection("opendb-feedback").doc(t).field("content,imgs,contact,mobile").get().then((function(t){var e=t.result.data[0];e&&(i.formData=e)})).catch((function(t){uni.showModal({content:t.message||"请求服务失败",showCancel:!1})})).finally((function(){uni.hideLoading()}))}}};i.default=l}).call(this,e("a9ff")["default"])},2812:function(t,i,e){"use strict";e.d(i,"b",(function(){return n})),e.d(i,"c",(function(){return o})),e.d(i,"a",(function(){}));var n=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-uni-view",{staticClass:"uni-forms-item",class:["is-direction-"+t.localLabelPos,t.border?"uni-forms-item--border":"",t.border&&t.isFirstBorder?"is-first-border":""]},[t._t("label",[e("v-uni-view",{staticClass:"uni-forms-item__label",class:{"no-label":!t.label&&!t.required},style:{width:t.localLabelWidth,justifyContent:t.localLabelAlign}},[t.required?e("v-uni-text",{staticClass:"is-required"},[t._v("*")]):t._e(),e("v-uni-text",[t._v(t._s(t.label))])],1)]),e("v-uni-view",{staticClass:"uni-forms-item__content"},[t._t("default"),e("v-uni-view",{staticClass:"uni-forms-item__error",class:{"msg--active":t.msg}},[e("v-uni-text",[t._v(t._s(t.msg))])],1)],2)],2)},o=[]},"3f38":function(t,i,e){"use strict";e.r(i);var n=e("087e"),o=e("a35f");for(var a in o)["default"].indexOf(a)<0&&function(t){e.d(i,t,(function(){return o[t]}))}(a);e("ec51");var r=e("f0c5"),s=Object(r["a"])(o["default"],n["b"],n["c"],!1,null,"4f829372",null,!1,n["a"],void 0);i["default"]=s.exports},4562:function(t,i,e){var n=e("7172");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var o=e("4f06").default;o("64dc11f4",n,!0,{sourceMap:!1,shadowMode:!1})},"4d8f":function(t,i,e){var n=e("24fb");i=n(!1),i.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.uni-fab[data-v-0fce6af8]{position:fixed;display:flex;justify-content:center;align-items:center;z-index:10;border-radius:45px;box-shadow:0 1px 5px 2px rgba(0,0,0,.3)}.uni-cursor-point[data-v-0fce6af8]{cursor:pointer}.uni-fab--active[data-v-0fce6af8]{opacity:1}.uni-fab--leftBottom[data-v-0fce6af8]{left:15px;bottom:30px;left:calc(15px + var(--window-left));bottom:calc(30px + var(--window-bottom))}.uni-fab--leftTop[data-v-0fce6af8]{left:15px;top:30px;left:calc(15px + var(--window-left));top:calc(30px + var(--window-top))}.uni-fab--rightBottom[data-v-0fce6af8]{right:15px;bottom:30px;right:calc(15px + var(--window-right));bottom:calc(30px + var(--window-bottom))}.uni-fab--rightTop[data-v-0fce6af8]{right:15px;top:30px;right:calc(15px + var(--window-right));top:calc(30px + var(--window-top))}.uni-fab__circle[data-v-0fce6af8]{position:fixed;display:flex;justify-content:center;align-items:center;width:55px;height:55px;background-color:#3c3e49;border-radius:45px;z-index:11}.uni-fab__circle--leftBottom[data-v-0fce6af8]{left:15px;bottom:30px;left:calc(15px + var(--window-left));bottom:calc(30px + var(--window-bottom))}.uni-fab__circle--leftTop[data-v-0fce6af8]{left:15px;top:30px;left:calc(15px + var(--window-left));top:calc(30px + var(--window-top))}.uni-fab__circle--rightBottom[data-v-0fce6af8]{right:15px;bottom:30px;right:calc(15px + var(--window-right));bottom:calc(30px + var(--window-bottom))}.uni-fab__circle--rightTop[data-v-0fce6af8]{right:15px;top:30px;right:calc(15px + var(--window-right));top:calc(30px + var(--window-top))}.uni-fab__circle--left[data-v-0fce6af8]{left:0}.uni-fab__circle--right[data-v-0fce6af8]{right:0}.uni-fab__circle--top[data-v-0fce6af8]{top:0}.uni-fab__circle--bottom[data-v-0fce6af8]{bottom:0}.uni-fab__plus[data-v-0fce6af8]{font-weight:700}.fab-circle-icon[data-v-0fce6af8]{-webkit-transform:rotate(0deg);transform:rotate(0deg);transition:-webkit-transform .3s;transition:transform .3s;transition:transform .3s,-webkit-transform .3s;font-weight:200}.uni-fab__plus--active[data-v-0fce6af8]{-webkit-transform:rotate(135deg);transform:rotate(135deg)}.uni-fab__content[data-v-0fce6af8]{box-sizing:border-box;display:flex;flex-direction:row;border-radius:55px;overflow:hidden;transition-property:width,height;transition-duration:.2s;width:55px;border-color:#ddd;border-width:%?1?%;border-style:solid}.uni-fab__content--other-platform[data-v-0fce6af8]{border-width:0;box-shadow:0 1px 5px 2px rgba(0,0,0,.3)}.uni-fab__content--left[data-v-0fce6af8]{justify-content:flex-start}.uni-fab__content--right[data-v-0fce6af8]{justify-content:flex-end}.uni-fab__content--flexDirection[data-v-0fce6af8]{flex-direction:column;justify-content:flex-end}.uni-fab__content--flexDirectionStart[data-v-0fce6af8]{flex-direction:column;justify-content:flex-start}.uni-fab__content--flexDirectionEnd[data-v-0fce6af8]{flex-direction:column;justify-content:flex-end}.uni-fab__item[data-v-0fce6af8]{display:flex;flex-direction:column;justify-content:center;align-items:center;width:55px;height:55px;opacity:0;transition:opacity .2s}.uni-fab__item--active[data-v-0fce6af8]{opacity:1}.uni-fab__item-image[data-v-0fce6af8]{width:20px;height:20px;margin-bottom:4px}.uni-fab__item-text[data-v-0fce6af8]{color:#fff;font-size:12px;line-height:12px;margin-top:2px}.uni-fab__item--first[data-v-0fce6af8]{width:55px}',""]),t.exports=i},"6ae3":function(t,i,e){"use strict";e.d(i,"b",(function(){return o})),e.d(i,"c",(function(){return a})),e.d(i,"a",(function(){return n}));var n={uniIcons:e("dcd2").default},o=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-uni-view",{staticClass:"uni-cursor-point"},[t.popMenu&&(t.leftBottom||t.rightBottom||t.leftTop||t.rightTop)&&t.content.length>0?e("v-uni-view",{staticClass:"uni-fab",class:{"uni-fab--leftBottom":t.leftBottom,"uni-fab--rightBottom":t.rightBottom,"uni-fab--leftTop":t.leftTop,"uni-fab--rightTop":t.rightTop},style:t.nvueBottom},[e("v-uni-view",{staticClass:"uni-fab__content",class:{"uni-fab__content--left":"left"===t.horizontal,"uni-fab__content--right":"right"===t.horizontal,"uni-fab__content--flexDirection":"vertical"===t.direction,"uni-fab__content--flexDirectionStart":t.flexDirectionStart,"uni-fab__content--flexDirectionEnd":t.flexDirectionEnd,"uni-fab__content--other-platform":!t.isAndroidNvue},style:{width:t.boxWidth,height:t.boxHeight,backgroundColor:t.styles.backgroundColor},attrs:{elevation:"5"}},[t.flexDirectionStart||t.horizontalLeft?e("v-uni-view",{staticClass:"uni-fab__item uni-fab__item--first"}):t._e(),t._l(t.content,(function(i,n){return e("v-uni-view",{key:n,staticClass:"uni-fab__item",class:{"uni-fab__item--active":t.isShow},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t._onItemClick(n,i)}}},[e("v-uni-image",{staticClass:"uni-fab__item-image",attrs:{src:i.active?i.selectedIconPath:i.iconPath,mode:"aspectFit"}}),e("v-uni-text",{staticClass:"uni-fab__item-text",style:{color:i.active?t.styles.selectedColor:t.styles.color}},[t._v(t._s(i.text))])],1)})),t.flexDirectionEnd||t.horizontalRight?e("v-uni-view",{staticClass:"uni-fab__item uni-fab__item--first"}):t._e()],2)],1):t._e(),e("v-uni-view",{staticClass:"uni-fab__circle uni-fab__plus",class:{"uni-fab__circle--leftBottom":t.leftBottom,"uni-fab__circle--rightBottom":t.rightBottom,"uni-fab__circle--leftTop":t.leftTop,"uni-fab__circle--rightTop":t.rightTop,"uni-fab__content--other-platform":!t.isAndroidNvue},style:{"background-color":t.styles.buttonColor,bottom:t.nvueBottom},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t._onClick.apply(void 0,arguments)}}},[e("uni-icons",{staticClass:"fab-circle-icon",class:{"uni-fab__plus--active":t.isShow&&t.content.length>0},attrs:{type:"plusempty",color:t.styles.iconColor,size:"32"}})],1)],1)},a=[]},7058:function(t,i,e){"use strict";var n=e("d200"),o=e.n(n);o.a},7172:function(t,i,e){var n=e("24fb");i=n(!1),i.push([t.i,".uni-container[data-v-4f829372]{padding:15px}.uni-input-border[data-v-4f829372],\n.uni-textarea-border[data-v-4f829372]{width:100%;font-size:14px;color:#666;border:1px #e5e5e5 solid;border-radius:5px;box-sizing:border-box}.uni-input-border[data-v-4f829372]{padding:0 10px;height:35px}.uni-textarea-border[data-v-4f829372]{padding:10px;height:80px}.uni-button-group[data-v-4f829372]{margin-top:50px;\ndisplay:flex;\njustify-content:center}.uni-button[data-v-4f829372]{width:184px;padding:12px 20px;font-size:14px;border-radius:4px;line-height:1;margin:0}",""]),t.exports=i},"9c65":function(t,i,e){"use strict";var n=e("fa45"),o=e.n(n);o.a},a35f:function(t,i,e){"use strict";e.r(i);var n=e("163c"),o=e.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){e.d(i,t,(function(){return n[t]}))}(a);i["default"]=o.a},bdf4:function(t,i,e){"use strict";e.r(i);var n=e("2812"),o=e("cf73");for(var a in o)["default"].indexOf(a)<0&&function(t){e.d(i,t,(function(){return o[t]}))}(a);e("9c65");var r=e("f0c5"),s=Object(r["a"])(o["default"],n["b"],n["c"],!1,null,"7b4c51d5",null,!1,n["a"],void 0);i["default"]=s.exports},c3ad:function(t,i,e){"use strict";e.r(i);var n=e("0b51"),o=e.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){e.d(i,t,(function(){return n[t]}))}(a);i["default"]=o.a},cf73:function(t,i,e){"use strict";e.r(i);var n=e("ecb6"),o=e.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){e.d(i,t,(function(){return n[t]}))}(a);i["default"]=o.a},cfb3:function(t,i,e){"use strict";e.r(i);var n=e("6ae3"),o=e("c3ad");for(var a in o)["default"].indexOf(a)<0&&function(t){e.d(i,t,(function(){return o[t]}))}(a);e("7058");var r=e("f0c5"),s=Object(r["a"])(o["default"],n["b"],n["c"],!1,null,"0fce6af8",null,!1,n["a"],void 0);i["default"]=s.exports},d200:function(t,i,e){var n=e("4d8f");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var o=e("4f06").default;o("2b80376f",n,!0,{sourceMap:!1,shadowMode:!1})},ec51:function(t,i,e){"use strict";var n=e("4562"),o=e.n(n);o.a},ecb6:function(t,i,e){"use strict";e("7a82");var n=e("4ea4").default;Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var o=n(e("53ca")),a=n(e("c7eb")),r=n(e("ade3")),s=n(e("1da1"));e("a9e3"),e("14d9"),e("d3b7"),e("159b"),e("a434");var l={name:"uniFormsItem",options:{virtualHost:!0},provide:function(){return{uniFormItem:this}},inject:{form:{from:"uniForm",default:null}},props:{rules:{type:Array,default:function(){return null}},name:{type:[String,Array],default:""},required:{type:Boolean,default:!1},label:{type:String,default:""},labelWidth:{type:[String,Number],default:""},labelAlign:{type:String,default:""},errorMessage:{type:[String,Boolean],default:""},leftIcon:String,iconColor:{type:String,default:"#606266"}},data:function(){return{errMsg:"",userRules:null,localLabelAlign:"left",localLabelWidth:"65px",localLabelPos:"left",border:!1,isFirstBorder:!1}},computed:{msg:function(){return this.errorMessage||this.errMsg}},watch:{"form.formRules":function(t){this.init()},"form.labelWidth":function(t){this.localLabelWidth=this._labelWidthUnit(t)},"form.labelPosition":function(t){this.localLabelPos=this._labelPosition()},"form.labelAlign":function(t){}},created:function(){var t=this;this.init(!0),this.name&&this.form&&this.$watch((function(){var i=t.form._getDataValue(t.name,t.form.localData);return i}),(function(i,e){var n=t.form._isEqual(i,e);if(!n){var o=t.itemSetValue(i);t.onFieldChange(o,!1)}}),{immediate:!1})},destroyed:function(){this.__isUnmounted||this.unInit()},methods:{setRules:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.userRules=t,this.init(!1)},setValue:function(){},onFieldChange:function(t){var i=arguments,e=this;return(0,s.default)((0,a.default)().mark((function n(){var o,s,l,f,c,u,d,m,h,b,p,v;return(0,a.default)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(o=!(i.length>1&&void 0!==i[1])||i[1],s=e.form,l=s.formData,s.localData,f=s.errShowType,c=s.validateCheck,u=s.validateTrigger,d=s._isRequiredField,m=s._realName,h=m(e.name),t||(t=e.form.formData[h]),b=e.itemRules.rules&&e.itemRules.rules.length,e.validator&&b&&0!==b){n.next=7;break}return n.abrupt("return");case 7:if(p=d(e.itemRules.rules||[]),v=null,"bind"!==u&&!o){n.next=18;break}return n.next=12,e.validator.validateUpdate((0,r.default)({},h,t),l);case 12:v=n.sent,p||void 0!==t&&""!==t||(v=null),v&&v.errorMessage?("undertext"===f&&(e.errMsg=v?v.errorMessage:""),"toast"===f&&uni.showToast({title:v.errorMessage||"校验错误",icon:"none"}),"modal"===f&&uni.showModal({title:"提示",content:v.errorMessage||"校验错误"})):e.errMsg="",c(v||null),n.next=19;break;case 18:e.errMsg="";case 19:return n.abrupt("return",v||null);case 20:case"end":return n.stop()}}),n)})))()},init:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=this.form||{},e=i.validator,n=i.formRules,a=i.childrens,r=(i.formData,i.localData),s=i._realName,l=i.labelWidth,f=i._getDataValue;i._setDataValue;if(this.localLabelAlign=this._justifyContent(),this.localLabelWidth=this._labelWidthUnit(l),this.localLabelPos=this._labelPosition(),this.form&&t&&a.push(this),e&&n){this.form.isFirstBorder||(this.form.isFirstBorder=!0,this.isFirstBorder=!0),this.group&&(this.group.isFirstBorder||(this.group.isFirstBorder=!0,this.isFirstBorder=!0)),this.border=this.form.border;var c=s(this.name),u=this.userRules||this.rules;"object"===(0,o.default)(n)&&u&&(n[c]={rules:u},e.updateSchema(n));var d=n[c]||{};this.itemRules=d,this.validator=e,this.itemSetValue(f(this.name,r))}},unInit:function(){var t=this;if(this.form){var i=this.form,e=i.childrens,n=i.formData,o=i._realName;e.forEach((function(i,e){i===t&&(t.form.childrens.splice(e,1),delete n[o(i.name)])}))}},itemSetValue:function(t){var i=this.form._realName(this.name),e=this.itemRules.rules||[],n=this.form._getValue(i,t,e);return this.form._setDataValue(i,this.form.formData,n),n},clearValidate:function(){this.errMsg=""},_isRequired:function(){return this.required},_justifyContent:function(){if(this.form){var t=this.form.labelAlign,i=this.labelAlign?this.labelAlign:t;if("left"===i)return"flex-start";if("center"===i)return"center";if("right"===i)return"flex-end"}return"flex-start"},_labelWidthUnit:function(t){return this.num2px(this.labelWidth?this.labelWidth:t||(this.label?65:"auto"))},_labelPosition:function(){return this.form&&this.form.labelPosition||"left"},isTrigger:function(t,i,e){return"submit"!==t&&t?"bind":void 0===t?"bind"!==i?i?"submit":""===e?"bind":"submit":"bind":"submit"},num2px:function(t){return"number"===typeof t?"".concat(t,"px"):t}}};i.default=l},fa45:function(t,i,e){var n=e("011e");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var o=e("4f06").default;o("09f2734e",n,!0,{sourceMap:!1,shadowMode:!1})}}]);